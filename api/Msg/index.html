<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Msg (PocketMesh.PocketMeshPeer.Msg)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../">Up</a> â€“ <a href="../../">PocketMesh</a> &#x00BB; <a href="../">PocketMeshPeer</a> &#x00BB; Msg</nav><h1>Module <code>PocketMeshPeer.Msg</code></h1><p>Library message type and constructors for the public messages. Messages are meant to be passed to the <a href="..#val-update"><code>update</code></a> function.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code>;</dt><dd><p>Opaque variant type that represents library messages, both private and public.</p></dd></dl><dl><dt class="spec value" id="val-addPeer"><a href="#val-addPeer" class="anchor"></a><code><span class="keyword">let</span> addPeer: <a href="../Peer/Id#type-t">Peer.Id.t</a> <span>=&gt;</span> string <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p><code>addPeer(id, alias)</code> message adds a new peer with ID <code>id</code> and local alias <code>alias</code> into the list of peers (friends). If a peer with the same ID is already added, nothing happens.</p></dd></dl><dl><dt class="spec value" id="val-updatePeer"><a href="#val-updatePeer" class="anchor"></a><code><span class="keyword">let</span> updatePeer: <a href="../Peer/Id#type-t">Peer.Id.t</a> <span>=&gt;</span> string <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p><code>updatePeer(id, alias)</code> message updates local alias of peer with specified ID. If no such peer is found, nothing happens.</p></dd></dl><dl><dt class="spec value" id="val-removePeer"><a href="#val-removePeer" class="anchor"></a><code><span class="keyword">let</span> removePeer: <a href="../Peer/Id#type-t">Peer.Id.t</a> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p><code>removePeer(id)</code> message removes peer from the list of peers (friends) and from all groups.</p></dd></dl><dl><dt class="spec value" id="val-addGroup"><a href="#val-addGroup" class="anchor"></a><code><span class="keyword">let</span> addGroup: <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> string <span>=&gt;</span> (<a href="..#module-Crdt">Crdt</a>.t <span>=&gt;</span> <a href="..#module-Crdt">Crdt</a>.t) <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p><code>addGroup(id, alias, initializer)</code> message adds a new group with ID <code>id</code> and local alias <code>alias</code> and initializes its replicated content using using <code>initializer</code>. If you want to keep it empty, simply pass <code>a =&gt; a</code> function.</p></dd></dl><dl><dt class="spec value" id="val-updateGroupAlias"><a href="#val-updateGroupAlias" class="anchor"></a><code><span class="keyword">let</span> updateGroupAlias: <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> string <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that updates local alias of the specified group.</p></dd></dl><dl><dt class="spec value" id="val-updateGroupContent"><a href="#val-updateGroupContent" class="anchor"></a><code><span class="keyword">let</span> updateGroupContent: <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> <a href="..#module-Crdt">Crdt</a>.t <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that updates contents of the group. Changes are debounced before propagating them to other group members.</p></dd></dl><dl><dt class="spec value" id="val-removeGroup"><a href="#val-removeGroup" class="anchor"></a><code><span class="keyword">let</span> removeGroup: <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that removes group with specified ID.</p></dd></dl><dl><dt class="spec value" id="val-addPeerToGroup"><a href="#val-addPeerToGroup" class="anchor"></a><code><span class="keyword">let</span> addPeerToGroup: <a href="../Peer/Id#type-t">Peer.Id.t</a> <span>=&gt;</span> <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> <a href="../PeerInGroup#type-groupPermissions">PeerInGroup.groupPermissions</a> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that adds peer to the group with specified permissions. If the member already exists, its permissions get overwritten.</p></dd></dl><dl><dt class="spec value" id="val-updatePeerPermissions"><a href="#val-updatePeerPermissions" class="anchor"></a><code><span class="keyword">let</span> updatePeerPermissions: <a href="../Peer/Id#type-t">Peer.Id.t</a> <span>=&gt;</span> <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> <a href="../PeerInGroup#type-groupPermissions">PeerInGroup.groupPermissions</a> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that updates permissions of the peer in the group. If the peer is not a member of the group, nothing happens.</p></dd></dl><dl><dt class="spec value" id="val-removePeerFromGroup"><a href="#val-removePeerFromGroup" class="anchor"></a><code><span class="keyword">let</span> removePeerFromGroup: <a href="../Peer/Id#type-t">Peer.Id.t</a> <span>=&gt;</span> <a href="../PeersGroup/Id#type-t">PeersGroup.Id.t</a> <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that removes peer from the group.</p></dd></dl><dl><dt class="spec value" id="val-updateSignalServerUrl"><a href="#val-updateSignalServerUrl" class="anchor"></a><code><span class="keyword">let</span> updateSignalServerUrl: string <span>=&gt;</span> <a href="#type-t">t</a>;</code></dt><dd><p>Message that updates signal server URL and connects to it.</p></dd></dl><dl><dt class="spec value" id="val-removeThisPeerAndAllData"><a href="#val-removeThisPeerAndAllData" class="anchor"></a><code><span class="keyword">let</span> removeThisPeerAndAllData: <a href="#type-t">t</a>;</code></dt><dd><p>Message that removes local identity and all data of the local replica (groups, their contents, list of friends, ...) and generates a clean new identity.</p></dd></dl></div></body></html>